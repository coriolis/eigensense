{"version":3,"file":"static/js/91.ee9bd872.chunk.js","mappings":"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","sources":["Components/flrnc/flrnc_worker.js","../webpack/bootstrap","../webpack/runtime/chunk loaded","../webpack/runtime/create fake namespace object","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/publicPath","../webpack/runtime/importScripts chunk loading","../webpack/runtime/startup chunk dependencies","../webpack/startup"],"sourcesContent":["/* eslint-disable no-restricted-globals */\nimport {\n    Florence2ForConditionalGeneration,\n    AutoProcessor,\n    AutoTokenizer,\n    RawImage,\n    full,\n} from '@xenova/transformers';\n\nasync function hasFp16() {\n    try {\n        const adapter = await navigator.gpu.requestAdapter();\n        return adapter.features.has('shader-f16');\n    } catch (e) {\n        return false;\n    }\n}\n\n/**\n * This class uses the Singleton pattern to ensure that only one instance of the model is loaded.\n */\n\nclass Florence2Singleton {\n    static model_id = 'onnx-community/Florence-2-base-ft';\n\n    static async getInstance(progress_callback = null) {\n        this.processor ??= AutoProcessor.from_pretrained(this.model_id);\n        this.tokenizer ??= AutoTokenizer.from_pretrained(this.model_id);\n\n        this.supports_fp16 ??= await hasFp16();\n        this.model ??= Florence2ForConditionalGeneration.from_pretrained(this.model_id, {\n            dtype: {\n                embed_tokens: this.supports_fp16 ? 'fp16' : 'fp32',\n                vision_encoder: this.supports_fp16 ? 'fp16' : 'fp32',\n                encoder_model: 'q4', // or 'fp16' or 'fp32'\n                decoder_model_merged: 'q4', // or 'fp16' or 'fp32'\n            },\n            device: 'webgpu',\n            progress_callback: progress_callback,\n        });\n        console.log(\"Model -> \", this.model)\n        return Promise.all([this.model, this.tokenizer, this.processor]);\n    }\n}\n\n\nasync function load() {\n    console.log('loading..inside worker')\n    self.postMessage({\n        status: 'progress',\n        data: 'Loading model...'\n    });\n    // Load the pipeline and save it for future use.\n    let model, tokenizer, processor;\n    try{\n        [model, tokenizer, processor] = await Florence2Singleton.getInstance(x => {\n            self.postMessage(x);\n        });\n    }\n    catch(err){\n        self.postMessage({ status: 'error', err});\n        return\n    }\n    // const [model, tokenizer, processor] = await Florence2Singleton.getInstance();\n    console.log(\"loadded flourecnee model in memory..\")\n    self.postMessage({\n        status: 'done',\n        data: 'Compiling shaders and warming up model...'\n    });\n    // Dummy text and vision inputs\n    const text_inputs = tokenizer('a');\n    const pixel_values = full([1, 3, 768, 768], 0.0);\n    // Run model with dummy input to compile shaders\n    console.log('modelll -> ', model)\n    await model.generate({\n        ...text_inputs,\n        pixel_values,\n        max_new_tokens: 1,\n    });\n    self.postMessage({ status: 'ready' });\n}\n\nconst TASKS_WITH_INPUTS = [\n    '<CAPTION_TO_PHRASE_GROUNDING>',\n]\n\nlet vision_inputs;\nlet image_size;\n\nasync function run({ text, url, task, timeStamp, isUserSnap }) {\n    let model, tokenizer, processor;\n    try{\n        [model, tokenizer, processor] = await Florence2Singleton.getInstance();\n    }\n    catch(err){\n        self.postMessage({ status: 'error', err });\n        return\n    }\n    console.log('In run() About to run flourence....')\n    // Read and preprocess image\n    const start = performance.now();\n    if (!vision_inputs) {\n        // Cache vision inputs when possible\n        const image = await RawImage.fromURL(url);\n        image_size = image.size;\n        vision_inputs = await processor(image);\n    }\n\n    let user_input = task;\n    if (TASKS_WITH_INPUTS.includes(task) && text) {\n        user_input += text;\n    }\n    const prompts = processor.construct_prompts(user_input);\n    const text_inputs = tokenizer(prompts);\n\n    // Generate text\n    const generated_ids = await model.generate({\n        ...text_inputs,\n        ...vision_inputs,\n        max_new_tokens: 350,\n        num_beams: 1,\n        do_sample: false,\n    });\n\n    // Decode generated text\n    const generated_text = tokenizer.batch_decode(generated_ids, { skip_special_tokens: false })[0];\n    \n    // Post-process the generated text\n    const result = processor.post_process_generation(generated_text, task, image_size);\n\n    const end = performance.now();\n\n    console.log('Flourecne Reponse', result)\n    self.postMessage({ status: 'complete', result, time: end - start, timeStamp, isUserSnap, 'caption':generated_text.replace(/<\\/?s>/g, '').trim() });\n    self.postMessage({ status: 'caption', result, time: end - start, timeStamp, isUserSnap, 'caption':generated_text.replace(/<\\/?s>/g, '').trim() });\n    vision_inputs = image_size = null;\n    // const myDiv = document.getElementById('pdiv').value;\n    // if (myDiv) {\n    //   myDiv.innerHTML = \"Generated Caption: \"+result+ \" in time ms: \"+ end - start;\n    // }\n}\n\nasync function reset() {\n    console.log(\"resetting\");\n    \n    vision_inputs = image_size = null;\n    self.postMessage({status:\"ready\"});\n}\n\n// Listen for messages from the main thread\nself.addEventListener('message', async (e) => {\n    const { type, data } = e.data;\n\n    switch (type) {\n        case 'load':\n            load();\n            break;\n\n        case 'run':\n           run(data);\n            break;\n\n        case 'reset':\n           reset();\n            break;\n    }\n});","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [552], () => (__webpack_require__(183)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"5bacf88e\" + \".chunk.js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/\";","__webpack_require__.b = self.location + \"/../../../\";\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t91: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkfrontend\"] = self[\"webpackChunkfrontend\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(552).then(next);\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["Florence2Singleton","getInstance","progress_callback","arguments","length","undefined","this","processor","AutoProcessor","from_pretrained","model_id","tokenizer","AutoTokenizer","supports_fp16","async","navigator","gpu","requestAdapter","features","has","e","hasFp16","model","Florence2ForConditionalGeneration","dtype","embed_tokens","vision_encoder","encoder_model","decoder_model_merged","device","console","log","Promise","all","TASKS_WITH_INPUTS","vision_inputs","image_size","self","addEventListener","type","data","postMessage","status","x","err","text_inputs","pixel_values","full","generate","max_new_tokens","load","_ref","text","url","task","timeStamp","isUserSnap","start","performance","now","image","RawImage","fromURL","size","user_input","includes","construct_prompts","generated_ids","num_beams","do_sample","generated_text","batch_decode","skip_special_tokens","result","post_process_generation","end","time","replace","trim","run","reset","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","__webpack_exports__","O","deferred","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","key","splice","r","leafPrototypes","getProto","getPrototypeOf","obj","t","value","mode","__esModule","then","ns","create","def","current","indexOf","getOwnPropertyNames","forEach","d","definition","o","defineProperty","enumerable","get","f","chunkId","reduce","promises","u","miniCssF","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","p","b","location","installedChunks","importScripts","chunkLoadingGlobal","parentChunkLoadingFunction","push","bind","moreModules","runtime","pop","next"],"sourceRoot":""}